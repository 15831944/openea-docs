## url级权限控制
### 一、概述
- 该功能会有性能开销，并且会增加很多系统使用成本(大量的配置)，所以要按需开启
- 一般有这种需求的系统都是后台管理类的2B系统，用户量和并发量并不大所以性能上的开销是可以接受的
 
### 二、功能说明
总体包括以下几个部分

1. 资源/按钮权限配置
2. 角色关联权限
3. 前端页面按钮资源控制显示/隐藏
4. 后台接口url权限认证(如果对安全性要求不高可以去掉)
> admin账号不受权限影响，能访问所有接口

### 三、开启功能
该功能默认关闭，开启需要配置以下步骤

1. 在网关添加url权限相关配置
2. 页面菜单管理配置权限
3. 页面角色管理关联权限
4. 页面自己添加js动态根据权限控制隐藏的元素

### 四、缓存问题
目前的代码在根据多个角色编号查询资源/按钮权限的代码上增加了缓存配置(有效期5分钟)，所以修改角色按钮权限后并不会马上生效

> 如果需要马上生效则有3个方案 
>> 去掉缓存，每次都直接查询数据库(并发量不大的情况下)
>> 手动删除redis的缓存(应急情况下)
>> 页面增加刷新按钮，刷新/删除缓存数据(推荐)
